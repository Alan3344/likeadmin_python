import{_ as Q}from"./index.6e9d8e93.js";import{s as W,C as $,w as z,x as X,y as q,D as G,F as H,I as K}from"./element-plus.ef27c94c.js";import{d as h,e as Y,o as _,c as g,X as e,u as n,k as I,P as o,U as F,a1 as Z,an as ee,a as s,W as te,a8 as oe,a0 as le,V as ae,R as se,O as T,T as ne,Q as ue,t as re,b7 as de,b6 as ie}from"./@vue.a137a740.js";import{_ as pe}from"./index.f492d950.js";import{_ as ce}from"./picker.89679da1.js";import{_ as me}from"./picker.90cc6758.js";import{u as _e,f as D,b as fe,d as be}from"./index.bf986688.js";import{b as xe,c as ge}from"./decoration.dbd35eb6.js";import{D as Fe}from"./vuedraggable.0ebeab5f.js";import"./@vueuse.07613b64.js";import"./@element-plus.3660753f.js";import"./lodash-es.a31ceab4.js";import"./dayjs.4eb0747d.js";import"./axios.317db7a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.fd318bfa.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.f185caa3.js";import"./index.63948a89.js";import"./usePaging.c15919e0.js";import"./index.vue_vue_type_script_setup_true_lang.c58ce5d0.js";import"./vue3-video-play.b1eef99b.js";import"./lodash.329a9ebf.js";import"./vue-router.9605b890.js";import"./pinia.9b4180ce.js";import"./css-color-function.32b8b184.js";import"./color.3683ba49.js";import"./clone.a10503d0.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.c50c242d.js";import"./vue-clipboard3.51d666ae.js";import"./clipboard.e9b83688.js";import"./echarts.7e912674.js";import"./zrender.754e8e90.js";import"./tslib.60310f1a.js";import"./highlight.js.7165574c.js";import"./@highlightjs.7fc78ec7.js";import"./vue.de363efb.js";import"./sortablejs.cffe02b4.js";const Ve={class:"color-picker flex flex-1"},Ce=h({__name:"index",props:{modelValue:{type:String},defaultColor:{type:String}},emits:["update:modelValue"],setup(p,{emit:V}){const C=p,r=Y({get(){return C.modelValue},set(b){V("update:modelValue",b)}}),f=["#409EFF","#28C76F","#EA5455","#FF9F43","#01CFE8","#4A5DFF"],t=()=>{r.value=C.defaultColor};return(b,c)=>{const y=W,x=$,v=z;return _(),g("div",Ve,[e(y,{modelValue:n(r),"onUpdate:modelValue":c[0]||(c[0]=l=>I(r)?r.value=l:null),predefine:f},null,8,["modelValue"]),e(x,{modelValue:n(r),"onUpdate:modelValue":c[1]||(c[1]=l=>I(r)?r.value=l:null),class:"mx-[10px] flex-1",type:"text",readonly:""},null,8,["modelValue"]),e(v,{type:"text",onClick:t},{default:o(()=>[F("\u91CD\u7F6E")]),_:1})])}}}),k=p=>(de("data-v-4a4b98c9"),p=p(),ie(),p),ye={class:"decoration-tabbar min-w-[800px]"},ve={class:"flex h-full items-start"},Ee={class:"pages-preview mx-[30px]"},De={class:"tabbar flex"},he=["src"],ke={class:"leading-3 text-[12px] mt-[4px]"},Ae={class:"flex-1"},Be=k(()=>s("div",{class:"title flex items-center before:w-[3px] before:h-[14px] before:block before:bg-primary before:mr-2"},[F(" \u5E95\u90E8\u5BFC\u822A\u8BBE\u7F6E "),s("span",{class:"form-tips ml-[10px] !mt-0"}," \u81F3\u5C11\u6DFB\u52A02\u4E2A\u5BFC\u822A\uFF0C\u6700\u591A\u6DFB\u52A05\u4E2A\u5BFC\u822A ")],-1)),we={class:"mb-[18px]"},Ue={class:"bg-fill-light w-full p-4 mt-4"},Se={class:"upload-btn w-[60px] h-[60px]"},Ie=k(()=>s("span",{class:"text-xs leading-5"}," \u672A\u9009\u4E2D ",-1)),Te={class:"upload-btn w-[60px] h-[60px]"},$e=k(()=>s("span",{class:"text-xs leading-5"}," \u9009\u4E2D ",-1)),ze=h({name:"decorationTabbar"}),Ne=h({...ze,setup(p){const{getImageUrl:V,getimageUrl:C}=_e(),r=5,f=2,t=Z({style:{defaultColor:"",selectedColor:""},list:[{name:"",selected:"",unselected:"",link:{}},{name:"",selected:"",unselected:"",link:{}}]}),b=()=>{var l;((l=t.list)==null?void 0:l.length)<r?t.list.push({name:"",selected:"",unselected:"",link:{}}):D.msgError(`\u6700\u591A\u6DFB\u52A0${r}\u4E2A`)},c=l=>{var a;if(((a=t.list)==null?void 0:a.length)<=f)return D.msgError(`\u6700\u5C11\u4FDD\u7559${f}\u4E2A`);t.list.splice(l,1)},y=l=>l.relatedContext.index!=0,x=async()=>{const l=await xe();t.list=l.list.map(a=>({...a,link:JSON.parse(a.link),selected:"api/uploads"+a.selected,unselected:"api/uploads"+a.unselected})),t.style=l.style},v=async()=>{t.list=t.list.map(l=>({...l,link:JSON.stringify(l.link)})),await ge(re(t)),x(),D.msgSuccess("\u4FDD\u5B58\u6210\u529F")};return x(),(l,a)=>{const A=fe,B=me,m=G,N=$,P=ce,O=pe,w=z,U=X,S=Ce,R=q,J=H,j=K,L=Q,M=ee("perms");return _(),g("div",ye,[e(j,{shadow:"never",class:"!border-none flex-1","body-style":{height:"100%"}},{default:o(()=>[s("div",ve,[s("div",Ee,[s("div",De,[(_(!0),g(te,null,oe(n(t).list,(d,u)=>(_(),g("div",{class:"tabbar-item flex flex-col justify-center items-center flex-1",key:u,style:le({color:n(t).style.defaultColor})},[s("img",{class:"w-[22px] h-[22px]",src:n(V)(d.unselected),alt:""},null,8,he),s("div",ke,ae(d.name),1)],4))),128))])]),s("div",Ae,[Be,e(J,{"label-width":"70px"},{default:o(()=>[e(R,{"model-value":"content"},{default:o(()=>[e(U,{label:"\u5BFC\u822A\u56FE\u7247",name:"content"},{default:o(()=>{var d;return[s("div",we,[e(n(Fe),{class:"draggable",modelValue:n(t).list,"onUpdate:modelValue":a[0]||(a[0]=u=>n(t).list=u),animation:"300",draggable:".draggable",move:y},{item:o(({element:u,index:E})=>[e(O,{onClose:i=>c(E),class:se(["max-w-[400px]",{draggable:E!=0}])},{default:o(()=>[s("div",Ue,[e(m,{label:"\u5BFC\u822A\u56FE\u6807"},{default:o(()=>[e(B,{modelValue:u.unselected,"onUpdate:modelValue":i=>u.unselected=i,"upload-class":"bg-body",size:"60px",excludeDomain:""},{upload:o(()=>[s("div",Se,[e(A,{name:"el-icon-Plus",size:16}),Ie])]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(B,{modelValue:u.selected,"onUpdate:modelValue":i=>u.selected=i,"upload-class":"bg-body",size:"60px",excludeDomain:""},{upload:o(()=>[s("div",Te,[e(A,{name:"el-icon-Plus",size:16}),$e])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{label:"\u5BFC\u822A\u540D\u79F0"},{default:o(()=>[e(N,{modelValue:u.name,"onUpdate:modelValue":i=>u.name=i,placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(m,{label:"\u94FE\u63A5\u5730\u5740"},{default:o(()=>[e(P,{modelValue:u.link,"onUpdate:modelValue":i=>u.link=i,disabled:E==0},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1024)])]),_:2},1032,["onClose","class"])]),_:1},8,["modelValue"])]),((d=n(t).list)==null?void 0:d.length)<r?(_(),T(m,{key:0,"label-width":"0"},{default:o(()=>[e(w,{type:"primary",onClick:b},{default:o(()=>[F(" \u6DFB\u52A0\u5BFC\u822A ")]),_:1})]),_:1})):ne("",!0)]}),_:1}),e(U,{label:"\u6837\u5F0F\u8BBE\u7F6E",name:"styles"},{default:o(()=>[e(m,{label:"\u9ED8\u8BA4\u989C\u8272"},{default:o(()=>[e(S,{class:"max-w-[400px]",modelValue:n(t).style.defaultColor,"onUpdate:modelValue":a[1]||(a[1]=d=>n(t).style.defaultColor=d),"default-color":"#999999"},null,8,["modelValue"])]),_:1}),e(m,{label:"\u9009\u4E2D\u989C\u8272"},{default:o(()=>[e(S,{class:"max-w-[400px]",modelValue:n(t).style.selectedColor,"onUpdate:modelValue":a[2]||(a[2]=d=>n(t).style.selectedColor=d),"default-color":"#4173ff"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1}),ue((_(),T(L,{class:"mt-4",fixed:!1},{default:o(()=>[e(w,{type:"primary",onClick:v},{default:o(()=>[F("\u4FDD\u5B58")]),_:1})]),_:1})),[[M,["decorate:tabbar:save"]]])])}}});const Bt=be(Ne,[["__scopeId","data-v-4a4b98c9"]]);export{Bt as default};
